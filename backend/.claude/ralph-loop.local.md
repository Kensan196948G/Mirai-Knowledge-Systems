---
active: true
iteration: 1
max_iterations: 10
completion_promise: "COMPLETE"
started_at: "2026-01-07T02:33:16Z"
---

本番環境向け Claude Code 運用プロンプト一式の整備と、本番リリースに向けた開発フェーズの確立・推進を行ってください。

【タスク概要】
- 既にある程度構築済みの開発環境を前提に、本番環境向けの設定・運用プロンプト一式を完成させる。
- 必要に応じて機能追加を提案し、即時に実装・テストまで行う。
- DB 内のダミーデータをすべて廃止し、本番用の実データへ移行する仕組みを構築・検証する。
- DB 構造設計ドキュメント（論理／物理モデル、マイグレーション方針）を作成し、コードと整合が取れる状態を維持する。
- データ移行後に、アプリケーションから本番 DB が正常参照できることを確認するテスト一式を整備・実行する。

【前提・制約（本番環境）】
- 既存の「開発環境の設定」は削除しないこと。
- ダミーデータは本番環境に残さないこと。データが存在しない箇所は「○○データなし」と表示すること。
- Docker は利用しないこと。
- 独自ドメインは利用しないこと。
- 開発環境同様にローカル IP アドレスでアクセスする構成とすること。
- HTTPS 対応とし、自己署名 SSL 証明書を利用すること。

【やってほしいこと（大項目）】
1. 本番用 Claude Code プロンプト一式の設計・整理
   - System 相当のポリシー／ガイドラインを文章化する。
   - タスク別テンプレート（DB 移行、テスト整備、ドキュメント更新など）を用意する。
   - SubAgent／Hooks／MCP／標準機能の役割分担を明確化する。

2. データ移行のためのデータ入手手段の検討と実装
   - 現行サーバと接続して DB／ファイルからデータを取得する方法の設計・実装。
   - Microsoft 365 非対話型認証（例: client_credentials）でデータを取得する方法の設計・実装。
   - 上記それぞれについて、必要な手順をコード／スクリプトと README に箇条書きで整理する。

3. DB 構造設計ドキュメントの整備
   - エンティティ一覧、リレーション、主キー／外部キーを含む論理モデルを作成する。
   - テーブル定義、インデックス、制約、マイグレーション戦略を含む物理モデルを作成する。
   - マイグレーションスクリプトとドキュメントの整合チェックを自動化する。

4. データ移行と移行後テスト
   - テスト用／検証用 DB で移行リハーサルを行い、問題点を洗い出して修正する。
   - 本番 DB への移行手順（バックアップ、停止・切替、ロールバック）を手順化する。
   - アプリケーションから本番 DB を参照する統合テスト（ユースケースベース、E2E テスト）を整備・実行する。
   - 本番環境にダミーデータが残っていないことと、「○○データなし」表示が正しく機能していることを検証する。

5. 本番開発フェーズの定義と進行管理
   - 現状の開発状況を整理し、「本番開発フェーズ」の段階（設計→基盤構築→移行準備→本番移行→安定化）を定義する。
   - 各フェーズごとの完了条件とチェック項目を明確化し、それに沿って作業を進める。
   - 必要に応じてフェーズを細分化し、順番に達成していく。

【利用してよい機能・プラグイン】
- すべての SubAgent 機能
- すべての Hooks 機能（並列開発機能を含む）
- すべての MCP 機能
- Brave Search, claude-in-chrome, context7, GitHub, memory, Playwright, plugin:claude-mem:mem-search, sequential-thinking, sqlite などの標準／拡張機能

【進め方の方針】
- まず、上記の全体像を踏まえて「本番開発フェーズ」の現状を自己評価し、次に着手すべきタスク群を洗い出す。
- 優先度の高いタスクから順に実装・テストし、完了したタスクは一覧にチェックを付けていく。
- すべてのタスクが完了し、本番環境で安定稼働している状態になったら、最後にサマリを出力し、完了を宣言する。
- すべてのタスクが完了し、本番環境で安定稼働している状態になったときのみ、最終応答のどこかで <promise>COMPLETE</promise> を 1 回だけ出力すること。

<promise>COMPLETE</promise>

