# GitHub クリーンアップ - フロー図

```
┌─────────────────────────────────────────────────────────────────────┐
│                     現状分析（2026-02-10）                           │
├─────────────────────────────────────────────────────────────────────┤
│ Issues: 6件 (すべてrefinement-needed)                                │
│ PRs: 14件 (7件最近、7件古い)                                         │
│ Branches: 20件+ (7件copilot、13件feature)                           │
│ CI/CD成功率: 18% 🔴                                                  │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                        Day 1: 緊急対応 (P0)                          │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  PR #3107 → [CI通過確認] → マージ → CI成功率60%+                     │
│  Phase 0緊急止血                                                     │
│                                                                      │
│  PR #3108 → [セキュリティ検証] → マージ → セキュリティA+             │
│  CWE-78修正                                                          │
│                                                                      │
│  Issue #3093 → [精製作業] → PR作成 → [round-trip:1]                 │
│  Round-trip基盤                                                      │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                      Day 2: パフォーマンス (P1)                       │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  PR #3109 → [パフォーマンステスト] → マージ → レスポンス96.7%改善     │
│  N+1最適化                                                           │
│                                                                      │
│  PR #3112 → [E2Eテスト確認] → マージ → E2E成功率100%                 │
│  E2E安定化                                                           │
│                                                                      │
│  Issue #3098 → [精製作業] → PR作成 → [round-trip:1]                 │
│  auto-error-fix                                                      │
│                                                                      │
│  ブランチ削除: feature/phase-2-console-log-removal (マージ済み)       │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                      Day 3: 機能統合 (P2)                            │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  PR #3114 → [E2Eテスト追加] → マージ → PWA統合完了                   │
│  MS365プレビューPWA                                                  │
│                                                                      │
│  PR #3103 vs #3112 → [差分確認] → クローズ (重複)                    │
│  PR #3106 vs #3109 → [差分確認] → クローズ (重複)                    │
│                                                                      │
│  ブランチ削除: copilot/* (7本) → リモート削除 → ローカル削除         │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                    Day 4: Round-trip継続 (P2)                        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  Issue #3115 → [精製作業] → PR作成 → [round-trip:2]                 │
│  エラーハンドリング強化                                               │
│                                                                      │
│  Issue #3116 → [精製作業] → PR作成 → [round-trip:2]                 │
│  Round-trip基盤エラーハンドリング                                     │
│                                                                      │
│  Issue #3117 → [精製作業] → PR作成 → [round-trip:1]                 │
│  console.log削除                                                     │
│                                                                      │
│  古いCopilot PR (7件) → [レビュー] → クローズ                        │
│  #2843, #2842, #2650, #2648, #880, #585, #580                       │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                      Day 5: 最終クリーンアップ (P3)                   │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  Issue #3118 → [レポート確認] → クローズ                             │
│  自動修復レポート                                                     │
│                                                                      │
│  調査ブランチ (4本) → [内容確認] → 削除判断                          │
│  - feature/notifications-tests-5100                                  │
│  - feature/phase-d4.2-file-preview                                   │
│  - feature/phase-d6-security-performance-optimization                │
│  - feature/e4-ms365-file-preview                                     │
│                                                                      │
│  PRマージ後ブランチ削除 → 自動削除 (--delete-branch)                  │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
                                ↓
┌─────────────────────────────────────────────────────────────────────┐
│                     目標達成（2026-02-14）                           │
├─────────────────────────────────────────────────────────────────────┤
│ Issues: 2-3件 (50-66%削減) ✅                                        │
│ PRs: 0-2件 (86-100%削減) ✅                                          │
│ Branches: 4-6件 (70-80%削減) ✅                                      │
│ CI/CD成功率: 60%+ (238%改善) ✅                                      │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 依存関係グラフ

```
                    ┌─────────────┐
                    │  PR #3107   │
                    │ 緊急止血     │
                    │ (CI修復)    │
                    └──────┬──────┘
                           │
                           ↓ (CI通過後)
          ┌────────────────┼────────────────┐
          │                │                │
    ┌─────▼─────┐   ┌─────▼─────┐   ┌─────▼─────┐
    │  PR #3108 │   │  PR #3109 │   │  PR #3112 │
    │セキュリティ│   │ N+1最適化 │   │ E2E安定化 │
    └─────┬─────┘   └─────┬─────┘   └─────┬─────┘
          │                │                │
          └────────────────┼────────────────┘
                           │
                           ↓ (パフォーマンス改善後)
                    ┌──────▼──────┐
                    │  PR #3114   │
                    │ MS365 PWA   │
                    └──────┬──────┘
                           │
                           ↓ (機能統合後)
          ┌────────────────┼────────────────┐
          │                │                │
    ┌─────▼─────┐   ┌─────▼─────┐   ┌─────▼─────┐
    │Issue #3093│   │Issue #3098│   │Issue #3115│
    │Round-trip │   │auto-error │   │エラー処理 │
    │    基盤   │   │   -fix    │   │   強化    │
    └───────────┘   └───────────┘   └───────────┘
```

---

## Round-trip Development Loop

```
    ┌──────────────────────────────────────────────────┐
    │          Copilot Agent が PR を作成              │
    │                                                  │
    │   PR #3092 → マージ → Issue #3093 自動作成      │
    └──────────────┬───────────────────────────────────┘
                   │
                   ↓
    ┌──────────────▼───────────────────────────────────┐
    │         ClaudeCode が精製 [round-trip:1]         │
    │                                                  │
    │   refinement/1/pr-3092 → PR作成 → レビュー      │
    └──────────────┬───────────────────────────────────┘
                   │
                   ↓ (品質向上)
    ┌──────────────▼───────────────────────────────────┐
    │    マージ → Issue #3xxx 自動作成 (Iteration 2)   │
    │                                                  │
    │   Issue #3116 → ClaudeCode精製 [round-trip:2]   │
    └──────────────┬───────────────────────────────────┘
                   │
                   ↓ (さらに品質向上)
    ┌──────────────▼───────────────────────────────────┐
    │    マージ → Issue #3xxx 自動作成 (Iteration 3)   │
    │                                                  │
    │   最終精製 → PRマージ → ループ終了 ✅            │
    └──────────────────────────────────────────────────┘

    最大3イテレーション、各イテレーションで品質向上
```

---

## クリーンアップ優先度マトリクス

```
緊急度 ↑
   │
 P0│  PR #3107     Issue #3093
   │  PR #3108
   │  (今日中)
───┼─────────────────────────────────
 P1│  PR #3109     Issue #3098
   │  PR #3112     ブランチ削除(1本)
   │  (24時間以内)
───┼─────────────────────────────────
 P2│  PR #3114     Issue #3115-3117
   │  PR重複確認   Copilotブランチ(7本)
   │  (2-3日以内)  古いPRクローズ(7件)
───┼─────────────────────────────────
 P3│               Issue #3118
   │               調査ブランチ(4本)
   │               (4-5日以内)
───┴─────────────────────────────────→
              重要度
```

---

**作成者**: ClaudeCode
**最終更新**: 2026-02-10
