# Mirai Knowledge Systems - ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé‹ç”¨ã‚¬ã‚¤ãƒ‰

## ğŸ¯ æ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€7ä½“ã®å°‚é–€åŒ–ã•ã‚ŒãŸã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€åŠ¹ç‡çš„ãªé–‹ç™ºã‚’å®Ÿç¾ã—ã¾ã™ã€‚

## ğŸ‘¥ 7ä½“ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

| # | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå | ID | å½¹å‰² | å„ªå…ˆåº¦ |
|---|---------------|-----|------|--------|
| 1 | Spec Planner | `spec-planner` | è¦ä»¶æ•´ç†ãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£ | é«˜ |
| 2 | Architecture Reviewer | `arch-reviewer` | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ | **æœ€é«˜** |
| 3 | Code Implementer | `code-implementer` | å®Ÿè£…æ‹…å½“ | é«˜ |
| 4 | Test Designer | `test-designer` | ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ‹…å½“ | é«˜ |
| 5 | CI/CD Specialist | `ci-specialist` | GitHub Actions å°‚ä»» | é«˜ |
| 6 | Security Auditor | `sec-auditor` | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»Lintãƒ»æ¨©é™ãƒ¬ãƒ“ãƒ¥ãƒ¼ | **æœ€é«˜** |
| 7 | Ops/Runbook Author | `ops-runbook` | é‹ç”¨ãƒ»SRE/Runbook æ‹…å½“ | ä¸­ |

## ğŸš€ ä¸¦åˆ—å®Ÿè¡Œãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ–°æ©Ÿèƒ½é–‹ç™ºï¼ˆ4-5ä½“ä¸¦åˆ—ï¼‰

```bash
# æ–°æ©Ÿèƒ½å®Ÿè£…æ™‚ã«åŒæ™‚å®Ÿè¡Œ
task agent:spec-planner      # è¦ä»¶æ•´ç†
task agent:arch-reviewer     # è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå¿…é ˆï¼‰
task agent:code-implementer   # å®Ÿè£…
task agent:test-designer     # ãƒ†ã‚¹ãƒˆè¨­è¨ˆ
task agent:sec-auditor       # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆå¿…é ˆï¼‰
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: CI/CD è¨­å®šå¤‰æ›´ï¼ˆ2ä½“ä¸¦åˆ—ï¼‰

```bash
# CI/CD æœ€é©åŒ–
task agent:ci-specialist     # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ
task agent:sec-auditor       # æ¨©é™è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå¿…é ˆï¼‰
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ç·Šæ€¥å¯¾å¿œï¼ˆ3ä½“ä¸¦åˆ—ï¼‰

```bash
# ç·Šæ€¥ãƒã‚°ä¿®æ­£
task agent:spec-planner      # ãƒã‚°åˆ†æ
task agent:code-implementer   # ä¿®æ­£å®Ÿè£…
task agent:test-designer     # å›å¸°ãƒ†ã‚¹ãƒˆ
```

## ğŸ“ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¨­å®šã¯ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ï¼š

```
.opencode/agent/
â”œâ”€â”€ spec-planner.md          # è¦ä»¶æ•´ç†ãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£æ‹…å½“
â”œâ”€â”€ arch-reviewer.md         # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ‹…å½“
â”œâ”€â”€ code-implementer.md      # å®Ÿè£…æ‹…å½“
â”œâ”€â”€ test-designer.md         # ãƒ†ã‚¹ãƒˆè¦³ç‚¹ãƒ»è‡ªå‹•ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ‹…å½“
â”œâ”€â”€ ci-specialist.md         # GitHub Actions å°‚ä»»
â”œâ”€â”€ sec-auditor.md           # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»Lintãƒ»æ¨©é™ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‹…å½“
â”œâ”€â”€ ops-runbook.md           # é‹ç”¨ãƒ»SRE/Runbook æ‹…å½“
â”œâ”€â”€ AGENTS.md                # é‹ç”¨ã‚¬ã‚¤ãƒ‰ï¼ˆè©³ç´°ï¼‰
â””â”€â”€ 01-db-architect.disabled.md
â”œâ”€â”€ 02-backend-dev.disabled.md
â”œâ”€â”€ 03-frontend-dev.disabled.md
â”œâ”€â”€ 04-security-auditor.disabled.md
â”œâ”€â”€ 05-qa-engineer.disabled.md
â”œâ”€â”€ 06-devops.disabled.md
â””â”€â”€ 07-docs-writer.disabled.md  # ï¼ˆç„¡åŠ¹åŒ–ã•ã‚ŒãŸæ—§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰
```

## ğŸ”§ ä½¿ç”¨å¯èƒ½ãªMCPãƒ„ãƒ¼ãƒ«

### æ¥ç¶šæ¸ˆã¿MCPï¼ˆæ­£å¸¸å‹•ä½œï¼‰

| MCPå | ç”¨é€” | è¨­å®š |
|-------|------|------|
| `brave-search` | Webæ¤œç´¢ | æœ‰åŠ¹ |
| `github` | GitHubæ“ä½œ | æœ‰åŠ¹ |
| `memory` | ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ• | æœ‰åŠ¹ |
| `sequential-thinking` | é †æ¬¡æ€è€ƒ | æœ‰åŠ¹ |

### æ¥ç¶šæ¸ˆã¿MCPï¼ˆè¨­å®šæ¸ˆã¿ï¼‰

| MCPå | ç”¨é€” | è¨­å®š |
|-------|------|------|
| `sqlite` | SQLite DBæ“ä½œ | è¨­å®šæ¸ˆã¿ |
| `context7` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œç´¢ | è¨­å®šæ¸ˆã¿ |
| `playwright` | E2Eãƒ†ã‚¹ãƒˆ | è¨­å®šæ¸ˆã¿ |

## ğŸ“‹ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ•ã‚§ãƒ¼ã‚º1: è¦ä»¶ãƒ»è¨­è¨ˆï¼ˆspec-planner, arch-reviewerï¼‰

1. **è¦ä»¶æ•´ç†** (`spec-planner`)
   - æ©Ÿèƒ½è¦ä»¶ã®æ•´ç†
   - ã‚¿ã‚¹ã‚¯åˆ†è§£
   - Issue ä½œæˆ

2. **è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼** (`arch-reviewer`)
   - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å½±éŸ¿è©•ä¾¡
   - æŠ€è¡“çš„èª²é¡Œã®æç¤º
   - æ¨å¥¨äº‹é …ã®ææ¡ˆ

### ãƒ•ã‚§ãƒ¼ã‚º2: å®Ÿè£…ï¼ˆcode-implementerï¼‰

1. **ã‚³ãƒ¼ãƒ‰å®Ÿè£…** (`code-implementer`)
   - API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ†ã‚¹ãƒˆï¼ˆtest-designerï¼‰

1. **ãƒ†ã‚¹ãƒˆè¨­è¨ˆ** (`test-designer`)
   - ãƒ†ã‚¹ãƒˆè¦³ç‚¹æŠ½å‡º
   - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…
   - ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š

### ãƒ•ã‚§ãƒ¼ã‚º4: å“è³ªä¿è¨¼ï¼ˆci-specialist, sec-auditorï¼‰

1. **CI/CD è¨­å®š** (`ci-specialist`)
   - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆãƒ»æœ€é©åŒ–
   - è‡ªå‹•ãƒ†ã‚¹ãƒˆè¨­å®š
   - ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»** (`sec-auditor`)
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
   - ã‚³ãƒ¼ãƒ‰å“è³ªç¢ºèª
   - æ¨©é™è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼

### ãƒ•ã‚§ãƒ¼ã‚º5: é‹ç”¨æº–å‚™ï¼ˆops-runbookï¼‰

1. **é‹ç”¨æ‰‹é †ä½œæˆ** (`ops-runbook`)
   - ã‚¢ãƒ©ãƒ¼ãƒˆå¯¾å¿œæ‰‹é †
   - éšœå®³å¯¾å¿œãƒ•ãƒ­ãƒ¼
   - åˆ‡ã‚Šæˆ»ã—æ‰‹é †

## ğŸ¯ æˆæœç‰©ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### memory MCPã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ç®¡ç†

```
memory_create_entities    # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
memory_create_relations   # é–¢ä¿‚æ€§ä½œæˆ
memory_read_graph         # ã‚°ãƒ©ãƒ•èª­ã¿å–ã‚Š
memory_search_nodes       # ãƒãƒ¼ãƒ‰æ¤œç´¢
```

### æ¨å¥¨ä½¿ç”¨æ–¹æ³•

```python
# å®Ÿè£…å‰ã®è¦ä»¶ç¢ºèª
memory_search_nodes("APIè¨­è¨ˆ ãƒŠãƒ¬ãƒƒã‚¸")

# å®Ÿè£…å¾Œã®çŸ¥è¦‹è¨˜éŒ²
memory_create_entities([{
    "name": "èªè¨¼å®Ÿè£…çŸ¥è¦‹",
    "entityType": "knowledge",
    "observations": ["JWTèªè¨¼å®Ÿè£…å®Œäº†", "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»é€šé"]
}])

# è¨­è¨ˆåˆ¤æ–­ã®è¨˜éŒ²
memory_create_relations([{
    "from": "èªè¨¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«",
    "relationType": "uses",
    "to": "Flask-JWT-Extended"
}])
```

## âš¡ é«˜é€ŸåŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### ä¸¦åˆ—å®Ÿè¡Œã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

1. **ä¾å­˜é–¢ä¿‚ã®ãªã„ã‚¿ã‚¹ã‚¯ã¯åŒæ™‚å®Ÿè¡Œ**
   - è¦ä»¶æ•´ç†ã¨è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ä¸¦åˆ—å¯èƒ½
   - å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆè¨­è¨ˆã¯ä¸¦åˆ—å¯èƒ½ï¼ˆå®Ÿè£…å¾Œï¼‰

2. **é †æ¬¡å®Ÿè¡ŒãŒå¿…è¦ãªã‚¿ã‚¹ã‚¯**
   - è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ å®Ÿè£…
   - å®Ÿè£… â†’ ãƒ†ã‚¹ãƒˆå®Ÿè£…
   - ãƒ†ã‚¹ãƒˆ â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

3. **ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã‚¿ã‚¹ã‚¯**
   - è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯å®Ÿè£…å‰ã«å¿…é ˆ
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã¯æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«å¿…é ˆ
   - CI è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ GitHub Actions å¤‰æ›´æ™‚ã«å¿…é ˆ

## ğŸ”„ GitHub Actionsé€£æº

### è‡ªå‹•å®Ÿè¡Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
push/pull_request
    â†“
[1] Lint & Code Quality (ruff, flake8, bandit)
    â†“
[2] Unit Tests (pytest, coverage)
    â†“
[3] Integration Tests (PostgreSQL)
    â†“
[4] E2E Tests (Playwright)
    â†“
[5] Security Scan (trufflehog, bandit)
    â†“
[6] Deploy to Development (main/develop)
    â†“
[7] Manual Approval (productionã®ã¿)
    â†“
[8] Deploy to Production
```

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸

READMEã«ä»¥ä¸‹ã®ãƒãƒƒã‚¸ã‚’è¿½åŠ ï¼š

```markdown
![CI/CD](https://github.com/your-org/mirai-knowledge-systems/actions/workflows/ci-cd.yml/badge.svg)
![Coverage](https://img.shields.io/badge/coverage-70%25-green)
![Security](https://img.shields.io/badge/security-audit_passed-green)
```

## ğŸ“Š æˆåŠŸæŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|------|--------|----------|
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 70%ä»¥ä¸Š | pytest-cov |
| API ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 80%ä»¥ä¸Š | pytest-cov |
| ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸ | 90%ä»¥ä¸Š | pytest-cov |
| E2Eãƒ†ã‚¹ãƒˆæˆåŠŸç‡ | 90%ä»¥ä¸Š | Playwright |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢ | Aè©•ä¾¡ | Bandit |
| ãƒ‡ãƒ—ãƒ­ã‚¤æ‰€è¦æ™‚é–“ | 10åˆ†ä»¥å†… | GitHub Actions |
| ä¸¦åˆ—å‡¦ç†åŠ¹ç‡ | 3å€ä»¥ä¸Š | æ‰€è¦æ™‚é–“æ¯”è¼ƒ |

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### MCPæ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# MCPå†èµ·å‹•
npx kill-port 3000
# è¨­å®šç¢ºèª
cat opencode.json | jq '.mcp'
```

### GitHub Actionså¤±æ•—

```bash
# ãƒ­ã‚°ç¢ºèª
gh run view <run-id> --log
# å†å®Ÿè¡Œ
gh run rerun <run-id>
```

### ãƒ†ã‚¹ãƒˆå¤±æ•—

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
cd backend
source venv_linux_new/bin/activate
pytest tests/ -v --tb=short
```

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [OpenCode ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://opencode.ai)
- [GitHub Actions ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/ja/actions)
- [MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«ä»•æ§˜](https://modelcontextprotocol.io/)
- [AGENTS.md](./AGENTS.md) - è©³ç´°ãªé‹ç”¨ã‚¬ã‚¤ãƒ‰
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ README](../../README.md)

---

**ä½œæˆæ—¥**: 2026-01-08
**æœ€çµ‚æ›´æ–°**: 2026-01-09
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0
